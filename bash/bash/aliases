# source ~/dotfiles/bash/env.sh
# source ~/dotfiles/bash/alias.sh

# Handle the fact that this file will be used with multiple OSs
platform=`uname`
  if [[ $platform == 'Linux' ]]; then
    alias a='ls -lrth --color'
  elif [[ $platform == 'Darwin' ]]; then
    alias a='ls -lrthG'
  fi

alias grake='rspec --drb spec/ && cucumber --drb features/


# alias for ruby
alias irb='irb --readline -r irb/completion'
alias killruby='killall -9 ruby'

alias rerake='!! && rake'
alias restart_apache="sudo /etc/init.d/apache2 restart"
alias retag='ctags -R --exclude=.svn --exclude=.git --exclude=log *'
alias remigrate='rake db:migrate && rake db:migrate:redo && rake db:schema:dump && rake db:test:prepare'
alias rdm="be rake db:migrate"
alias rdtp="be rake db:test:prepare"

# alias for bash file edition
alias sbash='sudo vim /etc/bash.bashrc'

# alias for terminator config file edition
alias sterm='sudo vim ~/.config/terminator/config'

# bash copy to source repository
alias bashcopy='sudo cp /etc/bash.bashrc /var/www/dotfiles/bash/bash.bashrc'
alias bashcopy2='sudo cp ~/.bash_ps1 /var/www/dotfiles/bash/.bash_ps1'

#vim copy to source directory + shortcut
alias svimrc='sudo vim ~/.vim/vimrc'
alias vimcopy='sudo cp ~/.vim/vimrc /var/www/dotfiles/vim/vimrc'
alias dotfiles='cd /var/www/dotfiles'

# alias for text editors
alias rmi='sudo ~/Downloads/RubyMine/bin/rubymine.sh'
alias rvim='rvmsudo vim '
alias svim='sudo vim '
alias snano='sudo nano '
alias rnano='rvmsudo nano'
alias vi='vim '
alias vim-='find . -type f' #search all files under current dir
export EDITOR=vim
export VISUAL=vim

# alias for moves back in directories
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias home='cd ~' # because tilda is hard to reach !!!
alias disk="cd /" # move to root of filesystem
alias s='cd ..' # up one dir # variant of the above .. (shorter by one letter !)
alias cdd='cd -' # goto last dir cd'ed from

# alias for moves in usefull directories
alias cpub='cd Public'
alias cdown='cd Downloads'
alias cdoc='cd Documents'
alias wmain='firefox file:///home/minikermit/Public/rails31/test/qcm/public/main.html'

# alias for ubuntu updates and install
alias agi='sudo apt-get install'
alias agup='sudo apt-get update'
alias agug='sudo apt-get upgrade'
alias agud='sudo apt-get dist-upgrade'
alias agre='sudo apt-get autoremove'
alias agcl='sudo apt-get clean'
alias agu='sudo apt-get update && sudo apt-get upgrade && sudo apt-get dist-upgrade'

# alias for rvm and gemsets
alias 19332='rvm use 1.9.3@rails32'
alias gemup='rvmsudo gem update'

# alias for rails apps
alias current='cd ~/Public/rails31/test/qcm'
alias cview='cd app/views/'
alias ccont='cd app/controllers/'
alias cmodel='cd app/models/'
alias cconf='cd config'
alias cdb='cd db'
alias cassets='cd app/assets/'
alias csheets='cd app/assets/stylesheets/'
alias cjava='cd app/assets/javascripts/'
alias cpic='cd app/assets/images/'

alias sdb='sudo vim config/database.yml'
alias sroutes='sudo vim config/routes.rb'
alias sapperb='sudo vim app/views/layouts/application.html.erb'
alias sgem='sudo vim Gemfile'
alias ssho='sudo vim show.html.erb'
alias sedi='sudo vim edit.html.erb'
alias sind='sudo vim index.html.erb'
alias snew='sudo vim new.html.erb'

alias be='rvmsudo bundle exec'
alias bi='rvmsudo bundle install'
alias ber="rmvsudo bundle exec rspec"
alias bes="rvmsudo bundle exec spec"
alias bec="rmvsudo bundle exec cucumber"
alias ano="rvmsudo bundle exec annotate"
alias precomp="rvmsudo bundle exec rake assets:precompile"

alias gemi='rvmsudo gem install --no-rdoc --no-ri'
alias gemu='rvmsudo gem uninstall'

alias ss='rvmsudo rails s'
alias pass='rvmsudo passenger start'
alias ttr='touch tmp/restart' # restart passenger

alias dbm='rvmsudo rake db:migrate'
alias dbmp='rvmsudo rake db:migrate RAILS_ENV="production"'
alias r='rails' # rails 3 shortcut 'r'

# rails logs, tailing and cleaning

alias log='tail -f -0 ./log/*.log &'
alias stoplog='killall tail'
alias tdl='tail -f ./log/development.log'
alias ttl='tail -f ./log/test.log'
alias ctl='> ./log/test.log'
alias cdl='> ./log/development.log'
alias tl='tail -f log/*.log'

# GIT
alias gad='git add .'
alias gap='git add -p'
alias gb='git branch'
alias gba='git branch -a'
alias gitb='git branch -v'
alias gcl='git clone'
alias gc='git commit -v'
alias gca='git commit -a -v'
alias gcaa='git commit -a --amend -C HEAD'
alias gco='git checkout'
alias gd='git diff -u --ignore-all-space'
alias gdc='git diff --cached'
alias gdh='git diff HEAD'
alias gdm='git diff -u master'
alias gnp="git-notpushed"
alias gp='git push'
alias gitpush='git push -u origin master'
alias gl='git pull'
alias gpr='git pull --rebase'
alias grc='git rebase --continue'
alias gst='git status'
alias glg='git log --pretty=oneline --abbrev-commit'
alias gitlog='git --no-pager log -n 20 --pretty=format:%h%x09%an%x09%ad%x09%s --date=short --no-merges'
alias ungit="find . -name '.git' -exec rm -rf {} \;"
alias gk='gitk --all &'
alias gx='gitx --all'
alias eg='sudo vim .git/config'

export GIT_PS1_SHOWDIRTYSTATE=1
export GIT_PS1_SHOWSTASHSTATE=1
source ~/.git-completion.sh

# Git clone from GitHub
   function gch() {
     sudo git clone git://github.com/$USER/$1.git
     }

# Commit pending changes and quote all args as message
function gg() {
   sudo git commit -v -a -m "$*"
   }

# alias for rspec
alias rs='rvmsudo rake spec'

# alias for cucumber
alias cuke='rvmsudo rake cucumber'
alias feat='cd features '
alias supp='cd features/support '

# alias for guard (continuous testing)
alias guar='rvmsudo guard'

# alias for rails best practices (run + show in browser)
alias bestp='rails_best_practices -f html .'
alias bests='firefox rails_best_practices_output.html'

# Mysql
# alias start_mysql='sudo mysqld_safe --user=mysql &'

# Postgress
# alias startpg='sudo /Library/StartupItems/PostgreSQL/PostgreSQL start'

# MongoDB
# export PATH=/usr/mongodb/bin:$PATH

# GENERAL BASH commands
alias h='history'
alias dns_flush='dscacheutil -flushcache'
alias ping='ping -c 10'
alias openports='netstat -nape --inet'
alias da=' date "+%Y-%m-%d %A %T %Z"'
alias trash="rm -fr ~/.Trash" # empty trash
alias mv='mv -i'
alias cp='cp -i'
alias rm='rm -i'
alias q='exit'

# -> Prevents accidentally clobbering files.
alias mkdir='mkdir -p'
alias j='jobs -l'
alias which='type -a'

#-------------------------------------------------------------
# The 'ls' family (this assumes you use a recent GNU ls)
#-------------------------------------------------------------
alias ll="ls -l --group-directories-first"
alias dir='ls -l'
alias lsa='ls -a -color'
alias ls='ls -hF --color' # add colors for filetype recognition
alias la='ls -Al' # show hidden files
alias lx='ls -lXB' # sort by extension
alias lk='ls -lSr' # sort by size, biggest last
alias lc='ls -ltcr' # sort by and show change time, most recent last
alias lu='ls -ltur' # sort by and show access time, most recent last
alias lt='ls -ltr' # sort by date, most recent last
alias lm='ls -al |more' # pipe through 'more'
alias lr='ls -lR' # recursive ls
alias tree='tree -Csu' # nice alternative to 'recursive ls'

# If your version of 'ls' doesn't support --group-directories-first try this:
# function ll(){ ls -l "$@"| egrep "^d" ; ls -lXB "$@" 2>&-| \
  # egrep -v "^d|total "; }

# Utilities
alias zipr='sudo zip -9 -r' # usage : zipr directory.zip directory (with maximum compression)
alias un='tar -zvxf'
alias search='locate -r' # because i never remember this command
alias compiz='cscm' # compiz manager in case I tweak too much the system and break the graphic layer ;-)
alias reload='. ~/.bash_profile'
alias sterm='sudo vim ~/config/terminator/config'

# Alias to local server example
alias tom=' ssh 192.168.1.0 -l root'

# Alias to remote server example
alias ANYNAMEHERE=' ssh YOURWEBSITE.com -l USERNAME -p PORTNUMBERHERE'

